<div class="support-tickets">
  <h2>Support Tickets</h2>

  <div *ngIf="loading">Loading tickets...</div>

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <table *ngIf="tickets.length">
    <thead>
    <tr>
      <th>ID</th>
      <th>Customer</th>
      <th>Subject</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let ticket of tickets">
      <td>{{ ticket.id }}</td>
      <td>{{ ticket.customerName }}</td>
      <td>{{ ticket.subject }}</td>
      <td>{{ ticket.status }}</td>
      <td>
        <button
          *ngIf="ticket.status !== 'Resolved'"
          (click)="resolveTicket(ticket.id)"
        >
          Mark as Resolved
        </button>
      </td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="!tickets.length && !loading" class="empty">
    No support tickets available.
  </div>
</div>
